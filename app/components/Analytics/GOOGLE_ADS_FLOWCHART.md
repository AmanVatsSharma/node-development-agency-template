# Google Ads Tracking Flow Chart

## ğŸŒŠ Complete Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APPLICATION START                         â”‚
â”‚                 (Next.js App Router)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    layout.tsx                                â”‚
â”‚  - Root Layout Component Renders                            â”‚
â”‚  - Loads GoogleAdsTracking component in <head>             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              GoogleAdsTracking Component                     â”‚
â”‚                   Initialization                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 STEP 1: Validation                           â”‚
â”‚  console.log('[GoogleAdsTracking] Component initialized')   â”‚
â”‚  console.log('[GoogleAdsTracking] Conversion ID: ...')      â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ Check: Conversion ID Format          â”‚                   â”‚
â”‚  â”‚ Expected: AW-XXXXXXXXXX               â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚             â”‚                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚     â”‚ Valid?         â”‚                                       â”‚
â”‚     â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜                                       â”‚
â”‚         â”‚ YES    â”‚ NO                                        â”‚
â”‚         â”‚        â””â”€â”€â”€â”€â”€â”€> Log Error & Stop                   â”‚
â”‚         â”‚                                                     â”‚
â”‚         â–¼                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              STEP 2: Load Google Tag Script                  â”‚
â”‚                                                               â”‚
â”‚  <Script src="googletagmanager.com/gtag/js?id=AW-..."      â”‚
â”‚         strategy="afterInteractive"                          â”‚
â”‚         onLoad={handleScriptLoad}                           â”‚
â”‚         onError={handleScriptError} />                      â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚  Browser fetches script from       â”‚                     â”‚
â”‚  â”‚  Google's CDN                      â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚               â”‚                                               â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚       â”‚ Success?        â”‚                                     â”‚
â”‚       â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜                                     â”‚
â”‚           â”‚ YES    â”‚ NO                                      â”‚
â”‚           â”‚        â””â”€â”€> handleScriptError()                  â”‚
â”‚           â”‚             console.error('[GoogleAdsTracking]   â”‚
â”‚           â”‚             Failed to load...')                  â”‚
â”‚           â”‚             setHasError(true)                    â”‚
â”‚           â”‚                                                   â”‚
â”‚           â–¼                                                   â”‚
â”‚    handleScriptLoad()                                        â”‚
â”‚    console.log('[GoogleAdsTracking] Script loaded')         â”‚
â”‚    setIsLoaded(true)                                         â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           STEP 3: Initialize DataLayer & gtag               â”‚
â”‚                                                               â”‚
â”‚  <Script id="google-ads-init">                              â”‚
â”‚    console.log('[GoogleAdsTracking] Initializing...')      â”‚
â”‚                                                               â”‚
â”‚    try {                                                     â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚      â”‚ window.dataLayer = dataLayer || []  â”‚               â”‚
â”‚      â”‚ console.log('dataLayer initialized')â”‚               â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                    â”‚                                         â”‚
â”‚                    â–¼                                         â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚      â”‚ Define gtag() function              â”‚               â”‚
â”‚      â”‚ window.gtag = function(){ ... }     â”‚               â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                    â”‚                                         â”‚
â”‚                    â–¼                                         â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚      â”‚ gtag('js', new Date())              â”‚               â”‚
â”‚      â”‚ console.log('Timestamp set')        â”‚               â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                    â”‚                                         â”‚
â”‚                    â–¼                                         â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚      â”‚ gtag('config', 'AW-17606401808')    â”‚               â”‚
â”‚      â”‚ console.log('Google Ads configured')â”‚               â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                    â”‚                                         â”‚
â”‚                    â–¼                                         â”‚
â”‚      console.log('Initialization complete')                â”‚
â”‚                                                               â”‚
â”‚    } catch (error) {                                        â”‚
â”‚      console.error('Initialization error:', error)         â”‚
â”‚    }                                                         â”‚
â”‚  </Script>                                                   â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              STEP 4: Tracking Ready                          â”‚
â”‚                                                               â”‚
â”‚  âœ… Component fully initialized                              â”‚
â”‚  âœ… gtag() function available globally                       â”‚
â”‚  âœ… dataLayer receiving events                               â”‚
â”‚  âœ… Google Ads receiving data                                â”‚
â”‚                                                               â”‚
â”‚  User Activity Tracked:                                     â”‚
â”‚  - Page Views (automatic)                                   â”‚
â”‚  - Conversions (manual via trackConversion)                â”‚
â”‚  - Custom Events (manual via trackEvent)                   â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  MONITORING LOOP    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           STEP 5: Event Monitoring (Optional)               â”‚
â”‚                                                               â”‚
â”‚  useEffect(() => {                                          â”‚
â”‚    if (isLoaded) {                                          â”‚
â”‚      // Wrap gtag to log all calls                         â”‚
â”‚      const originalGtag = window.gtag;                     â”‚
â”‚      window.gtag = function(...args) {                     â”‚
â”‚        console.log('[GoogleAdsTracking] gtag call:', args);â”‚
â”‚        return originalGtag.apply(window, args);            â”‚
â”‚      };                                                      â”‚
â”‚    }                                                         â”‚
â”‚  }, [isLoaded]);                                            â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   READY FOR USE    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ User Interaction Flows

### Flow A: Automatic Page View Tracking

```
User navigates to page
         â”‚
         â–¼
Next.js Router Change
         â”‚
         â–¼
GoogleAdsTracking already loaded
         â”‚
         â–¼
gtag() sends page view event
         â”‚
         â–¼
Event pushed to dataLayer
         â”‚
         â–¼
console.log('[GoogleAdsTracking] Event pushed...')
         â”‚
         â–¼
Data sent to Google Ads servers
         â”‚
         â–¼
Google Ads records page view
```

### Flow B: Manual Conversion Tracking

```
User completes action (e.g., form submission)
         â”‚
         â–¼
Your code calls trackConversion()
         â”‚
         â–¼
console.log('[GoogleAdsTracking] trackConversion called')
         â”‚
         â–¼
Function validates gtag availability
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚ gtag?   â”‚
    â””â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”˜
      â”‚YES  â”‚NO
      â”‚     â””â”€â”€> console.warn('gtag not available')
      â”‚
      â–¼
gtag('event', 'conversion', {...})
      â”‚
      â–¼
console.log('[GoogleAdsTracking] Conversion tracked successfully')
      â”‚
      â–¼
Event sent to Google Ads
      â”‚
      â–¼
Conversion recorded in Google Ads campaign
      â”‚
      â–¼
Appears in Google Ads dashboard (24-48 hour delay)
```

### Flow C: Custom Event Tracking

```
User interacts with element (e.g., button click)
         â”‚
         â–¼
Event handler calls trackEvent()
         â”‚
         â–¼
console.log('[GoogleAdsTracking] trackEvent called')
console.log('Event details:', { name, params })
         â”‚
         â–¼
Validate gtag availability
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚ gtag?   â”‚
    â””â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”˜
      â”‚YES  â”‚NO
      â”‚     â””â”€â”€> console.warn('gtag not available')
      â”‚
      â–¼
gtag('event', eventName, eventParams)
      â”‚
      â–¼
console.log('Event tracked successfully')
      â”‚
      â–¼
Event sent to Google Ads
      â”‚
      â–¼
Data available for remarketing & optimization
```

## ğŸ”„ Error Handling Flow

```
                  START
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Component Mounts    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Validate ID         â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Valid Format?  â”‚
        â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
            â”‚ YES    â”‚ NO
            â”‚        â”‚
            â”‚        â–¼
            â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   â”‚ Log Error:               â”‚
            â”‚   â”‚ 'Invalid conversion ID   â”‚
            â”‚   â”‚  format'                 â”‚
            â”‚   â”‚                          â”‚
            â”‚   â”‚ setHasError(true)        â”‚
            â”‚   â”‚                          â”‚
            â”‚   â”‚ Component returns null   â”‚
            â”‚   â”‚ (no render)              â”‚
            â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Load Script        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Script Loads?  â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
        â”‚ YES    â”‚ NO
        â”‚        â”‚
        â”‚        â–¼
        â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   â”‚ handleScriptError()         â”‚
        â”‚   â”‚                             â”‚
        â”‚   â”‚ console.error('Failed to    â”‚
        â”‚   â”‚  load script', error)       â”‚
        â”‚   â”‚                             â”‚
        â”‚   â”‚ console.error('Error        â”‚
        â”‚   â”‚  details:', {...})          â”‚
        â”‚   â”‚                             â”‚
        â”‚   â”‚ setHasError(true)           â”‚
        â”‚   â”‚                             â”‚
        â”‚   â”‚ User can still use site     â”‚
        â”‚   â”‚ (tracking disabled)         â”‚
        â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Initialize gtag     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Initialization â”‚
  â”‚   Success?     â”‚
  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
      â”‚ YES    â”‚ NO (caught by try/catch)
      â”‚        â”‚
      â”‚        â–¼
      â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚   â”‚ catch (error) {             â”‚
      â”‚   â”‚   console.error(            â”‚
      â”‚   â”‚     'Initialization error', â”‚
      â”‚   â”‚     error                   â”‚
      â”‚   â”‚   );                        â”‚
      â”‚   â”‚   console.error(            â”‚
      â”‚   â”‚     'Error stack',          â”‚
      â”‚   â”‚     error.stack             â”‚
      â”‚   â”‚   );                        â”‚
      â”‚   â”‚ }                           â”‚
      â”‚   â”‚                             â”‚
      â”‚   â”‚ Partial tracking may work   â”‚
      â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TRACKING ACTIVE  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      YOUR WEBSITE                            â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  GoogleAdsTracking Component                       â”‚     â”‚
â”‚  â”‚                                                      â”‚     â”‚
â”‚  â”‚  window.dataLayer = []                             â”‚     â”‚
â”‚  â”‚         â”‚                                           â”‚     â”‚
â”‚  â”‚         â–¼                                           â”‚     â”‚
â”‚  â”‚  [Event 1, Event 2, Event 3, ...]                 â”‚     â”‚
â”‚  â”‚         â”‚                                           â”‚     â”‚
â”‚  â”‚         â–¼                                           â”‚     â”‚
â”‚  â”‚  gtag() processes events                           â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚           â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ HTTPS (encrypted)
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              GOOGLE TAG MANAGER                              â”‚
â”‚                                                               â”‚
â”‚  Receives tracking data                                     â”‚
â”‚  Processes events                                           â”‚
â”‚  Routes to appropriate destinations                         â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   GOOGLE ADS                                 â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Conversion Tracking                    â”‚               â”‚
â”‚  â”‚  - Records conversions                  â”‚               â”‚
â”‚  â”‚  - Attributes to campaigns              â”‚               â”‚
â”‚  â”‚  - Updates bid strategies               â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Remarketing                            â”‚               â”‚
â”‚  â”‚  - Builds audience lists                â”‚               â”‚
â”‚  â”‚  - Tags users for retargeting          â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Reporting & Analytics                  â”‚               â”‚
â”‚  â”‚  - Generates reports                    â”‚               â”‚
â”‚  â”‚  - Calculates ROI                       â”‚               â”‚
â”‚  â”‚  - Provides insights                    â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Debugging Flow

```
Issue Detected (e.g., conversions not tracking)
         â”‚
         â–¼
Step 1: Check Browser Console
         â”‚
         â”œâ”€â”€> See initialization logs? â”€â”€YESâ”€â”€> Script loaded âœ“
         â”‚                               â”‚
         â””â”€â”€NOâ”€â”€> Check Network tab      â”‚
                  â”‚                       â”‚
                  â”œâ”€â”€> Requests blocked?  â”‚
                  â”‚    (Ad blocker?)      â”‚
                  â”‚                       â”‚
                  â””â”€â”€> Script error?      â”‚
                       Contact support    â”‚
                                          â”‚
                                          â–¼
Step 2: Verify dataLayer                â”‚
         â”‚                               â”‚
         â–¼                               â”‚
Type: window.dataLayer in console       â”‚
         â”‚                               â”‚
         â”œâ”€â”€> Array exists? â”€â”€YESâ”€â”€> âœ“  â”‚
         â”‚                               â”‚
         â””â”€â”€NOâ”€â”€> Initialization failed  â”‚
                  Check error logs        â”‚
                                          â”‚
                                          â–¼
Step 3: Test gtag function              â”‚
         â”‚                               â”‚
         â–¼                               â”‚
Type: window.gtag('event', 'test')      â”‚
         â”‚                               â”‚
         â”œâ”€â”€> Works? â”€â”€YESâ”€â”€> âœ“          â”‚
         â”‚                               â”‚
         â””â”€â”€NOâ”€â”€> gtag not defined       â”‚
                  Reload page            â”‚
                                          â”‚
                                          â–¼
Step 4: Verify conversion ID            â”‚
         â”‚                               â”‚
         â–¼                               â”‚
Check: AW-17606401808 is correct?       â”‚
         â”‚                               â”‚
         â”œâ”€â”€> Correct? â”€â”€YESâ”€â”€> âœ“        â”‚
         â”‚                               â”‚
         â””â”€â”€NOâ”€â”€> Update in layout.tsx   â”‚
                                          â”‚
                                          â–¼
Step 5: Check Google Ads dashboard      â”‚
         â”‚                               â”‚
         â–¼                               â”‚
Wait 24-48 hours for data to appear     â”‚
         â”‚                               â”‚
         â”œâ”€â”€> Data appears? â”€â”€YESâ”€â”€> âœ“   â”‚
         â”‚                               â”‚
         â””â”€â”€NOâ”€â”€> Check conversion       â”‚
                  settings in Google Ads â”‚
                                          â”‚
                                          â–¼
                                    RESOLVED âœ“
```

## ğŸ¨ Legend

- `â”Œâ”€â” â””â”€â”˜` = Process boxes
- `â”‚ â–¼ â”¬ â”´` = Flow direction
- `?` = Decision point
- `âœ“` = Success state
- `âœ—` = Error state
- `console.log()` = Debug logging
- `console.error()` = Error logging

